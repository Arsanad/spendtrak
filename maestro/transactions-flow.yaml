# SpendTrak E2E Test: Transactions Flow
# Tests transaction list, filtering, search, and details

appId: com.spendtrak.app

---
# Test: Transactions Flow

- launchApp

# Wait for app to load
- waitForAnimationToEnd

# Navigate to Transactions tab
- tapOn:
    id: "tab-transactions"
    optional: true

# Wait for transactions to load
- waitForAnimationToEnd

# Verify transactions screen
- assertVisible:
    text: "Transactions"
    optional: true

# Test search functionality
- tapOn:
    id: "search-input"
    optional: true

- inputText: "Coffee"

# Wait for search results
- waitForAnimationToEnd:
    timeout: 2000

# Clear search
- tapOn:
    id: "clear-search"
    optional: true

# Test filter by category
- tapOn:
    text: "Filter"
    optional: true

- tapOn:
    text: "Food & Dining"
    optional: true

- tapOn:
    text: "Apply"
    optional: true

# Wait for filtered results
- waitForAnimationToEnd

# Clear filters
- tapOn:
    text: "Clear"
    optional: true

# Test date range filter
- tapOn:
    text: "This Month"
    optional: true

- tapOn:
    text: "Last Month"
    optional: true

# Wait for results
- waitForAnimationToEnd

# Scroll down to load more transactions
- scroll:
    direction: UP
    duration: 1000

# Wait for more to load
- waitForAnimationToEnd

# Tap on a transaction to view details
- tapOn:
    id: "transaction-item-0"
    optional: true

# Verify transaction detail screen
- assertVisible:
    text: "Transaction Details"
    optional: true

# Edit transaction
- tapOn:
    text: "Edit"
    optional: true

# Change category
- tapOn:
    text: "Category"
    optional: true

- tapOn:
    text: "Entertainment"
    optional: true

# Save changes
- tapOn:
    text: "Save"
    optional: true

# Wait for save
- waitForAnimationToEnd

# Go back to transactions list
- back
